<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ARH ROBO Control</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap');
body{font-family:'Noto Sans Bengali',sans-serif;}
/* Control button styling for both Manual and Camera sections */
.ctrl-btn{background:#2563eb;color:#fff;border-radius:9999px;padding:.75rem;display:flex;justify-content:center;align-items:center; transition: background-color 0.2s;}
.ctrl-btn:hover{background:#1d4ed8;} /* Darker blue on hover */
.ctrl-btn.stop{background:#dc2626;}
.ctrl-btn.stop:hover{background:#b91c1c;} /* Darker red on hover */
</style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center min-h-screen">

<header class="text-center py-4">
  <h1 class="text-2xl font-bold text-cyan-400">ARH ROBO Control</h1>
  <p class="text-sm text-gray-400">Alherian Rover and Helping Robo</p>
</header>

<div class="w-full max-w-md bg-gray-800 px-3 py-2 rounded-lg mb-3 text-center">
  <button id="ble-connect" class="bg-indigo-600 px-3 py-1 rounded text-sm font-bold hover:bg-indigo-700 transition">🔵 Bluetooth</button>
  <span id="ble-status" class="text-xs ml-2 text-gray-300">Not Connected</span>
  <input id="robot-ip" class="w-full p-1 mt-2 text-xs bg-gray-700 rounded placeholder-gray-500 text-white" placeholder="Robot IP e.g. 192.168.1.150">
</div>

<nav class="flex justify-around w-full max-w-md bg-gray-800 p-3 rounded-xl shadow-lg mb-3">
  <button class="nav-btn active" data-target="ai-section"><i class="fas fa-robot text-xl"></i><p>AI</p></button>
  <button class="nav-btn" data-target="voice-section"><i class="fas fa-microphone text-xl"></i><p>Voice</p></button>
  <button class="nav-btn" data-target="manual-section"><i class="fas fa-gamepad text-xl"></i><p>Manual</p></button>
  <button class="nav-btn" data-target="sensor-section"><i class="fas fa-satellite-dish text-xl"></i><p>Sensors</p></button>
  <button class="nav-btn" data-target="camera-section"><i class="fas fa-video text-xl"></i><p>Camera</p></button>
</nav>

<main class="w-full max-w-md flex-grow p-3">

  <section id="ai-section" class="app-section active bg-gray-800 p-4 rounded-lg shadow-xl">
    <h2 class="text-xl text-green-400 font-bold mb-3">🤖 ARH ROBO AI</h2>
    <textarea id="ai-input" class="w-full p-2 bg-gray-700 rounded-lg mb-2 focus:ring-2 focus:ring-green-500" rows="2" placeholder="Type or ask ARH... (Bangla/English)"></textarea>
    <button id="send-ai" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded-full font-bold w-full transition">Send</button>
    <div id="ai-output" class="mt-3 text-gray-300 text-sm min-h-[50px] bg-gray-700 p-3 rounded-lg border border-gray-600">AI response will appear here...</div>
  </section>

  <section id="voice-section" class="app-section bg-gray-800 p-4 rounded-lg shadow-xl">
    <h2 class="text-xl text-blue-400 font-bold mb-3">🎤 Voice Control</h2>
    <button id="start-voice" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-full font-bold w-full transition">🎙 Start Listening</button>
    <div id="voice-output" class="mt-3 text-gray-300 text-sm bg-gray-700 p-3 rounded-lg border border-gray-600">Say a command to control the robot...</div>
  </section>

  <!-- ✅ Fixed Manual Section -->
  <section id="manual-section" class="app-section bg-gray-800 p-4 rounded-lg shadow-xl">
    <h2 class="text-xl text-yellow-400 font-bold mb-3">🕹 Manual Control</h2>
    
    <div class="flex flex-col items-center space-y-3">
      <!-- Up -->
      <button class="ctrl-btn w-14 h-14" data-cmd="forward" title="Forward">
        <i class="fas fa-arrow-up text-lg"></i>
      </button>

      <!-- Middle Row -->
      <div class="flex justify-center space-x-5">
        <button class="ctrl-btn w-14 h-14" data-cmd="left" title="Left">
          <i class="fas fa-arrow-left text-lg"></i>
        </button>
        <button class="ctrl-btn stop w-14 h-14" data-cmd="stop" title="Stop">
          <i class="fas fa-stop text-lg"></i>
        </button>
        <button class="ctrl-btn w-14 h-14" data-cmd="right" title="Right">
          <i class="fas fa-arrow-right text-lg"></i>
        </button>
      </div>

      <!-- Down -->
      <button class="ctrl-btn w-14 h-14" data-cmd="back" title="Back">
        <i class="fas fa-arrow-down text-lg"></i>
      </button>
    </div>
  </section>

  <!-- ✅ Sensor Section + Emergency Button -->
  <section id="sensor-section" class="app-section bg-gray-800 p-4 rounded-lg shadow-xl">
    <h2 class="text-xl text-red-400 font-bold mb-3">📡 Sensor Data</h2>
    <ul id="sensor-list" class="space-y-3 text-gray-300 bg-gray-700 p-3 rounded-lg">
      <li><i class="fas fa-thermometer-half mr-2 text-yellow-500"></i>🌡 Temperature: -- °C</li>
      <li><i class="fas fa-tint mr-2 text-blue-500"></i>💧 Humidity: -- %</li>
      <li><i class="fas fa-fire-extinguisher mr-2 text-red-500"></i>🔥 Flame: Safe</li>
      <li><i class="fas fa-ruler-vertical mr-2 text-indigo-500"></i>📏 Distance: -- cm</li>
      <li><i class="fas fa-magnet mr-2 text-green-500"></i>🧲 Metal: No</li>
      <li><i class="fas fa-map-marker-alt mr-2 text-cyan-500"></i>📍 GPS: --</li>
    </ul>

    <!-- 🔴 Emergency Call Button -->
    <div class="mt-5 text-center">
      <a href="tel:01709953178" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-5 rounded-full inline-flex items-center justify-center w-full transition">
        <i class="fas fa-phone-alt mr-2"></i> জরুরি কল করুন (01709953178)
      </a>
    </div>
  </section>

  <section id="camera-section" class="app-section bg-gray-800 p-4 rounded-lg shadow-xl">
    <h2 class="text-xl text-cyan-400 font-bold mb-3">📷 ESP32-CAM & Control</h2>
    <input type="text" id="cam-url" placeholder="Enter ESP32-CAM IP" class="w-full p-2 bg-gray-700 rounded mb-2 placeholder-gray-500 text-white">
    <button id="connect-cam" class="bg-cyan-600 hover:bg-cyan-700 px-4 py-2 rounded-full font-bold w-full transition">Connect Camera</button>
    <div id="camera-feed" class="mt-3 bg-black h-52 flex justify-center items-center rounded-lg text-gray-400">No feed yet</div>

    <h3 class="text-center text-yellow-400 font-semibold mt-4 mb-2">🕹 Control (Camera View)</h3>
    <div class="grid grid-cols-3 gap-3 w-56 mx-auto">
      <div></div>
      <button class="ctrl-btn" data-cmd="forward" title="Forward"><i class="fas fa-arrow-up text-lg"></i></button>
      <div></div>
      <button class="ctrl-btn" data-cmd="left" title="Left"><i class="fas fa-arrow-left text-lg"></i></button>
      <button class="ctrl-btn stop" data-cmd="stop" title="Stop"><i class="fas fa-stop text-lg"></i></button>
      <button class="ctrl-btn" data-cmd="right" title="Right"><i class="fas fa-arrow-right text-lg"></i></button>
      <div></div>
      <button class="ctrl-btn" data-cmd="back" title="Back"><i class="fas fa-arrow-down text-lg"></i></button>
      <div></div>
    </div>
  </section>

</main>

<footer class="text-center text-xs text-gray-500 py-3">
  © 2025 ARH ROBO | NextGen Innovators
</footer>
<script src="script.js"></script>
</body>
</html>
